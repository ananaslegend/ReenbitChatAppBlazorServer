@inherits BaseAuth
@page "/"

@inject NavigationManager _navigationManager
@inject RequestHandler _requestHelper

<PageTitle>Greetings</PageTitle>

<h1>Welcome to Chat!</h1>
<br/>
<strong>Registrate or login to chat with all world</strong>

@code{
    
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            UserAccessVerification(await _requestHelper.GetAuthAsync("Test/"), () =>
            {
                _navigationManager.NavigateTo("/home");
            });
        }
    }
}